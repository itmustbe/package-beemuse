@import "compass/css3";

/****************************************************************************
 * Beemuse: Ribbons
 *
 * Copyright 2013 ITMUSTBE, Inc.
 * Licensed under the MIT License
 * http://opensource.org/licenses/MIT
 *
 * Designed and built with all the buzz in the world @itmustbe
****************************************************************************/

// Configurable variables
// **************************************************************************

$ribbonHorizHeight: 42px;

$brightRed:              #c73b3c; // hsl(0, 70, 78)
$subtleRed:              #da5050; // hsl(0, 63, 85)
$shadowRed:              #911919; // hsl(0, 83, 57)
$darkRed:                #631a15; // hsl(4, 79, 39)

// @todo stitch offset and border radii should move up here

// Configurable margins and padding
// **************************************************************************

.ribbon {
    margin: 0 5px 10px 0;

    &.ribbon-set {
        margin: 0 -15px 10px -20px;
    }

    p, a {
        margin: 0;
        padding: 10px;
    }

    &.ribbon-right {
        p, a {
            padding-left: 15px;
        }
    }

    &.ribbon-left {
        p, a {
            padding-right: 15px;
        }
    }
}

// Ribbon base
// **************************************************************************

.ribbon {
    cursor: pointer;
    position: relative;
    overflow: hidden;
    @include inline-block;
    @include transition(all, 0.3s, cubic-bezier(0.12, 0.89, 0.83, 0.67), false);

    p, a {
        display: block;
    }

    .ribbon-stitch {
        position: relative;
        overflow: hidden;
    }

    .ribbon-fabric {
        position: relative;
        z-index: 2;

        &:after,
        &:before {
            content: '';
            position: absolute;
            z-index: -1; // @todo hack for links
        }
    }

    .ribbon-top-right,
    .ribbon-bottom-right,
    .ribbon-top-left,
    .ribbon-bottom-left,
    .ribbon-center-left,
    .ribbon-center-right {
        width: $ribbonHorizHeight;
        height: $ribbonHorizHeight;
        position: absolute;
        z-index: 1;
        @include rotate(45deg);
    }

    .ribbon-top-right {
        @include box-shadow(0 5px 10px 0 rgba(black, 0.2));
    }

    .ribbon-top-left {
        @include box-shadow(5px 0 10px 0 rgba(black, 0.2));
    }
}

// Red ribbon
// **************************************************************************

.ribbon-red {
    p, a {
        color: white;
        text-shadow: 0 -1px 1px rgba(black, 0.5);
    }

    .ribbon-fabric {
        background-color: $shadowRed;
    }

    .ribbon-top-right,
    .ribbon-bottom-right,
    .ribbon-top-left,
    .ribbon-bottom-left,
    .ribbon-center-left,
    .ribbon-center-right {
        background: $shadowRed;
    }

    &.ribbon-horizontal {
        .ribbon-fabric:after {
            border-top: 1px dashed $darkRed;
            border-bottom: 1px dashed $darkRed;
        }

        .ribbon-fabric:before {
            border-top: 1px dashed $subtleRed;
            border-bottom: 1px dashed $subtleRed;
        }

        &.ribbon-right {
            .ribbon-fabric {
                @include background-image(linear-gradient(left, $brightRed, $shadowRed));
            }

            .ribbon-fabric:after {
                border-left: 1px dashed $darkRed;
            }

            .ribbon-fabric:before {
                border-left: 1px dashed $subtleRed;
            }
        }

        &.ribbon-left {
            .ribbon-fabric {
                @include background-image(linear-gradient(left, $shadowRed, $brightRed));
            }

            .ribbon-fabric:after {
                border-right: 1px dashed $darkRed;
            }

            .ribbon-fabric:before {
                border-right: 1px dashed $subtleRed;
            }
        }

        &.ribbon-both {
            .ribbon-fabric {
                @include background-image(linear-gradient(left, $shadowRed, $brightRed, $brightRed, $shadowRed));
            }
        }
    }
}

// Horizontal ribbon
// **************************************************************************

.ribbon-horizontal {

    height: $ribbonHorizHeight;

    .ribbon-stitch {
        height: $ribbonHorizHeight;
        // border-top: 1px solid rgba(black, 0.3);
        // border-bottom: 1px solid rgba(black, 0.3);
    }

    .ribbon-fabric {
        height: $ribbonHorizHeight;

        &:after {
            top: 5px;
            right: 0;
            bottom: 6px;
            left: 0;
        }

        &:before {
            top: 6px;
            right: 1px;
            bottom: 5px;
            left: 1px;
        }
    }

    .ribbon-top-right,
    .ribbon-bottom-right,
    .ribbon-center-right {
        right: 9px;
    }

    .ribbon-top-left,
    .ribbon-bottom-left,
    .ribbon-center-left {
        left: 9px;
    }

    .ribbon-top-right,
    .ribbon-top-left {
        bottom: ($ribbonHorizHeight / 2);
    }

    .ribbon-bottom-right,
    .ribbon-bottom-left {
        top: ($ribbonHorizHeight / 2);
    }

    .ribbon-center-left,
    .ribbon-center-right {
        bottom: 0;
    }

    @mixin radii-right {
        @include border-top-left-radius(4px);
        @include border-bottom-left-radius(4px);
    }

    @mixin radii-left {
        @include border-top-right-radius(4px);
        @include border-bottom-right-radius(4px);
    }

    &.ribbon-right {
        @include radii-right;

        .ribbon-stitch {
            @include radii-right;
            padding-right: 22px;
        }

        .ribbon-fabric {
            @include radii-right;

            &:after,
            &:before {
                @include radii-right;
                margin-left: 6px;
            }
        }
    }

    &.ribbon-left {
        @include radii-left;

        .ribbon-stitch {
            @include radii-left;
            padding-left: 22px;
        }

        .ribbon-fabric {
            @include radii-left;

            &:after,
            &:before {
                @include radii-left;
                margin-right: 6px;
            }
        }
    }

    &.ribbon-both {
        .ribbon-stitch {
            padding-right: 22px;
            padding-left: 22px;
        }
    }
}
